<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hotdish</title>
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-switch.min.css">
    <script src="../channels/channels.js"></script>
    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/vendor/moment-with-langs.min.js"></script>
    <script src="js/util.js"></script>
    <script src="js/sidebar-debug.js"></script>
    <script src="js/sidebar.js"></script>
    <script src="js/react/react.js"></script>
    <script src="js/components.js"></script>
    <script src="js/model.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/collapse.js"></script>
    <script src="js/transition.js"></script>
    <script src="js/tooltip.js"></script>
    <script src="js/bootstrap-switch.min.js"></script>
  </head>

  <body class="sidepanel">  <!-- START SIDEBAR panel -->


    <div id="ftu-panel" class="main-content"> <!-- First Time User panel -->
      <div class="row">
        <div class="col-xs-12">
          <h4>Welcome to Hotdish!</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <strong>Let's first set up your name and photo.</strong>
          <ul class="list-group">
            <li class="list-group-item"><input type="checkbox"> Ilana</li>
            <li class="list-group-item"><input type="checkbox"> Gregg</li>
            <li class="list-group-item"><input type="checkbox"> Ian</li>
          </ul>
          <p class="text-right">
            <button type="submit" class="btn btn-default btn-send-invites">Cancel</button>
            <button type="submit" class="btn btn-default btn-primary btn-send-invites">Send invites</button>
          </p>
        </div>
      </div>
    </div>

    <div id="invite-panel" class="main-content"> <!-- Invite panel -->
      <div class="row">
        <div class="col-xs-12">
          <h4>Invite your friends!</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <strong>Your contacts</strong>
          <ul class="list-group">
            <li class="list-group-item"><input type="checkbox"> Ilana</li>
            <li class="list-group-item"><input type="checkbox"> Gregg</li>
            <li class="list-group-item"><input type="checkbox"> Ian</li>
          </ul>
          <p class="text-right">
            <button type="submit" class="btn btn-default btn-send-invites">Cancel</button>
            <button type="submit" class="btn btn-default btn-primary btn-send-invites">Send invites</button>
          </p>
        </div>
      </div>
    </div>

    <div id="activity-view" class="main-content"> <!-- Main Content panel -->
      <div id="content">
        <div id="user-container"></div> <!-- user grid -->
        <div class="middlebar"> <!-- middle bar with buttons -->
          <div class="row">
            <div class="col-xs-12">
              <ul class="list-inline">
                <li class="active">
                  <a class="glyphicon glyphicon-th-list btn-activity-stream" href="#" title="Activity Stream"></a>
                </li>
                <li class="">
                  <a class="glyphicon glyphicon-new-window btn-push-tab" href="#" title="Push your current page to everyone else"></a>
                </li>
                <li class="">
                  <input type="checkbox" checked data-on-label="Present" data-off-label="Collab" class="switch-mini">
                  <!-- <a class="glyphicon glyphicon-plus btn-invite-ppl" href="#" title="Invite"></a> -->
                </li>
                <li class="pull-right btn-feedback">
                  <a href="mailto:hotdish@mozilla.com?Subject=Hotdish feedback" title="Send feedback"><span class="glyphicon glyphicon-send"></span></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div id="activity-stream-container"></div> <!-- Activity Stream -->
      </div> <!-- end #content -->
      <div id="chat-field-container"></div> <!-- end Chat field container -->
    </div> <!-- end Main Content Panel -->

    <!-- Debugging; only shown in content -->
    <div id="debug-panel-container">
      <div id="debug-panel">
        <fieldset>
          <legend>
            Add a tab
          </legend>
          <input type="text" id="add-tab-url" value="http://google.com" style="width: 20em">
          <input type="text" id="add-tab-tabid" value="1234" style="width: 4em">
          <label for="add-tab-local">Local? <input type="checkbox" id="add-tab-local"></label>
          <button id="add-tab">Add</button>
        </fieldset>

        <fieldset>
          <legend>
          Add a person
          </legend>
          <input type="text" id="add-person-name" value="Gregg Lind" style="width: 20em">
          <button id="add-person">Add</button>
        </fieldset>
      </div>
    </div>

  </body> <!-- END SIDEBAR -->

  <script type="text/javascript" charset="utf-8">

    //tooltips
    $('.spectate-page').tooltip();
    $('.push-page').tooltip();

    // fade out username
    $('.user-one').hover(function(){
      $('.user-one .username').fadeOut();
    }, function(){
      $('.user-one .username').fadeIn();
    })
    $('.user-two').hover(function(){
      $('.user-two .username').fadeOut();
    }, function(){
      $('.user-two .username').fadeIn();
    })
    $('.user-three').hover(function(){
      $('.user-three .username').fadeOut();
    }, function(){
      $('.user-three .username').fadeIn();
    })
    $('.user-four').hover(function(){
      $('.user-four .username').fadeOut();
    }, function(){
      $('.user-four .username').fadeIn();
    })

    //tabbable activity list area
    $("#private-messages-list").hide();
    $('.btn-activity-stream').click(function(){
      $("#chat-field").show();
      $("#activity-list").show();
      $("#private-messages-list").hide();
      $('.middlebar li:first-child').addClass('active');
      $('.middlebar li:nth-child(2)').removeClass('active');
    });

    //$('.btn-private-messages').click(function(){
      //alert("test");
      //$("#activity-stream-container").hide();
      //$("#chat-field").hide();
      //$("#private-messages-list").show();
      //$('.middlebar li:nth-child(2)').addClass('active');
      //$('.middlebar li:first-child').removeClass('active');
    //});

    //toggle Activity View and Participant View
    $("#participant-view .user-one-participant-view").hide();

    //Updating the Activity Window dynamically.
    $(function(){
      $('.activity-stream').css({'max-height': (($(window).height())-300)+'px'});
      $(window).resize(function(){
          $('.activity-stream').css({'max-height': (($(window).height())-300)+'px'});
      });
    });

    //adding style for when all users have joined a HotDish session
    $(function(){
      $(".btn-activity-stream").click(function(){
        $(".all-users-here-notification").animate({
          "top": "+=33px"
        }, 500).delay(4000);
        $(".all-users-here-notification").animate({
          "top": "-=33px"
        }, 500);
        //$(".all-users-here-notification").fadeIn(100).fadeOut(2000);
        addon.port.emit("notifyEveryoneHere");
      });
    });

    // show hide invitation panel
    $(function(){
      $(".btn-invite-ppl").click(function(){
        //alert();
      });
    });

    $(function() {
      // initialize all the inputs
      $('input[type="checkbox"],[type="radio"]').not('#create-switch').bootstrapSwitch();
    });

  </script>

</html>
